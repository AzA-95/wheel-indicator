<!DOCTYPE html>
<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <script src="../lib/wheel-indicator.js"></script>

    <script>

        tests = {
            macos: {}
        };
        
        var results = [];

        var indicator = new WheelIndicator({
            callback: function(e){

                console.error(e.direction + ' - ' + e.scheme);
                results.push(e.direction)
            },
            preventMouse: false
        });


        function startTest(test) {

            var message;
            var errors = false;
            var l = test.values.length;
            var infoBlock = document.querySelector('.info');

            for(var i = 0; i < l; i++) {
                indicator.processDelta({ deltaY: test.values[i] }, test.times[i] );
            }

            if(test.result.length !== results.length) {
                errors = true;
            }

            test.result.forEach(function(item, i){
                if(item !== results[i]) {
                    errors = true;
                }
            });

            if(errors) {
                message = '<div class="error-message">' + test.discription + ' завершен с ошибкой</div>'
            } else {
                message = '<div class="success-message">' + test.discription + ' завершен без ошибок</div>'
            }


            infoBlock.innerHTML += message;
            results = [];
            indicator._timesArray = [];
            indicator._deltaArray = [];

        }


        //startTest(ya.test1);
        //startTest(ya.test2);
        //startTest(ya.test3);
        //startTest(ya.test4);
        //startTest(ya.test5);
        //startTest(ya.test6);
        //startTest(ya.test7);
        //startTest(ya.test8);
        //startTest(ya.test9);
        //startTest(ya.test10);
        //startTest(ya.test11);
        //startTest(ya.test12);
        //startTest(ya.test13);
        //startTest(ya.test14);
        //startTest(ya.test15);
        //startTest(ya.test16);
        //startTest(ya.test17);
        //startTest(ya.test18);
        //startTest(ya.test19);
        //startTest(ya.test20);
        //startTest(ya.test21);
        //startTest(ya.test22);
        //startTest(ya.test23);
        //startTest(ya.test24);
        //startTest(ya.test25);
        //startTest(ya.test26);
        //startTest(ya.test27);

        //startTest(ya.test28);
        //startTest(ya.test29);
        //startTest(ya.test30);
        //startTest(ya.test31);
        //startTest(ya.test32);
        //startTest(ya.test33);
        //startTest(ya.test34);
        //startTest(ya.test35);
        //startTest(ya.test36);

        //startTest(ya.test37);
        //startTest(ya.test38);
        //startTest(ya.test39);
        //startTest(ya.test40);
        //startTest(ya.test41);
        //startTest(ya.test42);


        /*
         console.log(document.querySelector('.info').innerHTML += '<br/><br/>')
         console.log(document.querySelector('.info').innerHTML += '<br/>' + indicator._deltaArray.length + ' - ' + indicator._timesArray.length + ' - ' + indicator.iterate);

         console.log(document.querySelector('.info').innerHTML += '<br/>deltaArray -> [' +indicator._deltaArray + ']')
         console.log(document.querySelector('.info').innerHTML += '<br/>timesArray -> [' +indicator._timesArray + ']')
         */

    </script>
    <script src="tests/macos.ya.js"></script>
    <script src="tests/macos.ff.js"></script>
    <style>
        .error-message {
            color: red;
        }
        .success-message {
            color: green;
        }
    </style>
</head>
<body>
Custom block indicator
<div class="info" id="info"></div>

<script src="jquery.js"></script>
<script>
    $(document).ready(function(){
        var ya = tests.macos.ya;
        var ff = tests.macos.ff;

        console.log(tests.macos.ff);


//        for(item in tests.macos.ff) {
//            startTest(ff[item]);
//        }
        $('html').on('click', function(){
            $('body').html("<pre>" +
                    "times:  [" + indicator._timesArray + "],\n\t\t" +
                    "values: [" + indicator._deltaArray + "]," +
                    "</pre>");
        });
    });



</script>

</body>
</html>


